function y = doFilter(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 17-Sep-2019 17:01:43

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 10000000;  % Sampling Frequency
    %
    % N      = 500;    % Order
    % Fstop1 = 10000;  % First Stopband Frequency
    % Fpass1 = 12000;  % First Passband Frequency
    % Fpass2 = 28000;  % Second Passband Frequency
    % Fstop2 = 30000;  % Second Stopband Frequency
    % Wstop1 = 1;      % First Stopband Weight
    % Wpass  = 1;      % Passband Weight
    % Wstop2 = 1;      % Second Stopband Weight
    % dens   = 20;     % Density Factor
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, [0 Fstop1 Fpass1 Fpass2 Fstop2 Fs/2]/(Fs/2), [0 0 1 1 0 ...
    %            0], [Wstop1 Wpass Wstop2], {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.207160962609213 -0.00150633217317597 ...
        -0.0015154037162755 -0.00151605573884022 -0.00152471985319976 ...
        -0.00152417432462759 -0.00153255385420045 -0.00153177517132761 ...
        -0.00153961722471204 -0.00153793071474317 -0.0015452019510307 ...
        -0.00154261765990034 -0.00154927185997067 -0.00154596076329582 ...
        -0.00155236942064232 -0.00154834156401893 -0.00155487225611565 ...
        -0.00155080780536184 -0.00155675531760943 -0.00154961471723872 ...
        -0.00155688638719175 -0.00155079624980055 -0.0015550357662916 ...
        -0.0015482064377904 -0.00155523484312255 -0.00154669728517177 ...
        -0.0015533025324066 -0.00154308808154895 -0.00155041847528859 ...
        -0.0015382738253646 -0.00154681547939978 -0.00153230855496119 ...
        -0.00154266724918884 -0.00152415606079211 -0.00153732673197761 ...
        -0.00151119595072059 -0.00152869747552567 -0.00148517248535884 ...
        -0.00151439842762726 -0.00138435773956302 -0.00125872225937314 ...
        -0.00152772790989017 -0.00142110876606466 -0.00145032017820451 ...
        -0.00140694738080927 -0.0014201029110185 -0.00138841889274025 ...
        -0.00139396189700541 -0.00136736742270527 -0.00136884260521826 ...
        -0.0013447303158601 -0.00134347792224415 -0.0013207047143262 ...
        -0.00131714723842103 -0.00129485350547383 -0.00128943043359145 ...
        -0.00126681911941538 -0.00125950223656448 -0.0012378956361245 ...
        -0.00123070491918692 -0.00120624106369117 -0.00119767223890672 ...
        -0.00117614000378047 -0.0011640581290427 -0.00113973342103857 ...
        -0.00112824157946697 -0.00110370455932659 -0.00109145221100626 ...
        -0.00106568773963859 -0.00105276146215767 -0.00102537153237724 ...
        -0.00101184574029186 -0.000982796491732208 -0.000969603134398785 ...
        -0.000938797930976771 -0.000928116843912475 -0.000895712345441377 ...
        -0.000891934986164652 -0.000856395057251055 -0.00089238776585077 ...
        -0.000848892415366296 -0.000777572224177103 -0.000787638929023749 ...
        -0.000751792948412782 -0.00073885259076411 -0.000708529341450537 ...
        -0.000691208142650742 -0.000662867085140863 -0.000642733377784157 ...
        -0.000614995287389865 -0.000593188310445929 -0.000565540249046858 ...
        -0.000542583888252419 -0.00051509367351521 -0.000491307660456939 ...
        -0.000463827812235673 -0.000439753136724634 -0.000411929674558426 ...
        -0.000385851693280819 -0.000357465943733033 -0.000333670309542592 ...
        -0.000303048223867171 -0.00027640200435686 -0.000250016429161766 ...
        -0.000223450219851792 -0.000194652787507523 -0.000167593463811829 ...
        -0.000138690796942739 -0.000111822583772735 -8.28866354825831e-05 ...
        -5.65916016995295e-05 -2.763053217112e-05 -1.61640492799973e-06 ...
        2.7939622562925e-05 5.40465606799742e-05 8.57182185677815e-05 ...
        0.000112519911373183 0.000148278625320752 0.000176877730184517 ...
        0.000232216233303422 0.000233649540730233 0.000258593493113412 ...
        0.000300477854953972 0.000324939605155853 0.000359275572950129 ...
        0.000386501012218698 0.000420066649017426 0.000448054735055846 ...
        0.000480721081896951 0.000509192701594642 0.000541497622094808 ...
        0.000570230635353566 0.000602485347834075 0.000631617811327226 ...
        0.000663807640020653 0.000693293455840331 0.000725657575048322 ...
        0.000754641017329489 0.000785727800017683 0.000815542909883432 ...
        0.000848725331591178 0.000874555086068392 0.000907865716046071 ...
        0.000939142990513059 0.000970193588569923 0.000999440265906364 ...
        0.00103055424808679 0.00106016308658789 0.00109160609400269 ...
        0.00112168295376706 0.00115373443319675 0.00118409558097584 ...
        0.00121622669369191 0.0012464072720116 0.0012778933580401 ...
        0.00130676433327535 0.00133696463745027 0.00136372707750171 ...
        0.00139037545957669 0.00141077484220941 0.00146187829738328 ...
        0.00148267013771133 0.00151107581176741 0.00154030426498031 ...
        0.0015696266569579 0.00159749991281707 0.00162638886488834 ...
        0.00165433021950589 0.001683225065673 0.00171078627394787 ...
        0.00173943141630298 0.00176659669027402 0.00179470394429744 ...
        0.00182133299477174 0.00184904163164138 0.00187503602531669 ...
        0.00190240050589477 0.00192879354633617 0.00195647894226659 ...
        0.00198080575191524 0.00200744112958559 0.00203645411496463 ...
        0.00205837171996774 0.00208267634814342 0.00210900562784721 ...
        0.00213385998402754 0.0021592807084959 0.00218296380797004 ...
        0.00220743952904797 0.0022297863979684 0.0022531320395036 ...
        0.00227452653229154 0.00229729160804679 0.00231812663619174 ...
        0.00234113466354914 0.00236211134492697 0.00238574325049457 ...
        0.00240709826563164 0.00243346024350336 0.0024521835111275 ...
        0.00246180617111232 0.00249030860605724 0.00250789370800035 ...
        0.00252756064391177 0.00254594816072955 0.00256537847258134 ...
        0.00258321981751277 0.00260119707458712 0.00261834514123469 ...
        0.00263557551124553 0.00265204104581241 0.0026686328343392 ...
        0.00268460967816887 0.0027005542205542 0.00271580552753454 ...
        0.00273121111417003 0.00274529402875168 0.00275923794406272 ...
        0.00277230144473487 0.00278763269946656 0.00279801837529956 ...
        0.00280828047060195 0.00282667141780877 0.00283622508067087 ...
        0.00284723344056061 0.00285648091045694 0.00286719739736189 ...
        0.00287650555438893 0.00288682757756018 0.00289624891998925 ...
        0.00290610815738268 0.00291498594656478 0.00292384079867505 ...
        0.00293170716756235 0.00293873585392171 0.00294522020341303 ...
        0.00295028120479616 0.00295525940870741 0.00295726051194289 ...
        0.00296733896238175 0.00297547509555659 0.00297276513391519 ...
        0.00298011322891196 0.00298164087681373 0.00298584201955388 ...
        0.00298636783221622 0.00298996612647741 0.00299031238602224 ...
        0.00299286415177623 0.00299234139095758 0.00299393690778623 ...
        0.00299234139095758 0.00299286415177623 0.00299031238602224 ...
        0.00298996612647741 0.00298636783221622 0.00298584201955388 ...
        0.00298164087681373 0.00298011322891196 0.00297276513391519 ...
        0.00297547509555659 0.00296733896238175 0.00295726051194289 ...
        0.00295525940870741 0.00295028120479616 0.00294522020341303 ...
        0.00293873585392171 0.00293170716756235 0.00292384079867505 ...
        0.00291498594656478 0.00290610815738268 0.00289624891998925 ...
        0.00288682757756018 0.00287650555438893 0.00286719739736189 ...
        0.00285648091045694 0.00284723344056061 0.00283622508067087 ...
        0.00282667141780877 0.00280828047060195 0.00279801837529956 ...
        0.00278763269946656 0.00277230144473487 0.00275923794406272 ...
        0.00274529402875168 0.00273121111417003 0.00271580552753454 ...
        0.0027005542205542 0.00268460967816887 0.0026686328343392 ...
        0.00265204104581241 0.00263557551124553 0.00261834514123469 ...
        0.00260119707458712 0.00258321981751277 0.00256537847258134 ...
        0.00254594816072955 0.00252756064391177 0.00250789370800035 ...
        0.00249030860605724 0.00246180617111232 0.0024521835111275 ...
        0.00243346024350336 0.00240709826563164 0.00238574325049457 ...
        0.00236211134492697 0.00234113466354914 0.00231812663619174 ...
        0.00229729160804679 0.00227452653229154 0.0022531320395036 ...
        0.0022297863979684 0.00220743952904797 0.00218296380797004 ...
        0.0021592807084959 0.00213385998402754 0.00210900562784721 ...
        0.00208267634814342 0.00205837171996774 0.00203645411496463 ...
        0.00200744112958559 0.00198080575191524 0.00195647894226659 ...
        0.00192879354633617 0.00190240050589477 0.00187503602531669 ...
        0.00184904163164138 0.00182133299477174 0.00179470394429744 ...
        0.00176659669027402 0.00173943141630298 0.00171078627394787 ...
        0.001683225065673 0.00165433021950589 0.00162638886488834 ...
        0.00159749991281707 0.0015696266569579 0.00154030426498031 ...
        0.00151107581176741 0.00148267013771133 0.00146187829738328 ...
        0.00141077484220941 0.00139037545957669 0.00136372707750171 ...
        0.00133696463745027 0.00130676433327535 0.0012778933580401 ...
        0.0012464072720116 0.00121622669369191 0.00118409558097584 ...
        0.00115373443319675 0.00112168295376706 0.00109160609400269 ...
        0.00106016308658789 0.00103055424808679 0.000999440265906364 ...
        0.000970193588569923 0.000939142990513059 0.000907865716046071 ...
        0.000874555086068392 0.000848725331591178 0.000815542909883432 ...
        0.000785727800017683 0.000754641017329489 0.000725657575048322 ...
        0.000693293455840331 0.000663807640020653 0.000631617811327226 ...
        0.000602485347834075 0.000570230635353566 0.000541497622094808 ...
        0.000509192701594642 0.000480721081896951 0.000448054735055846 ...
        0.000420066649017426 0.000386501012218698 0.000359275572950129 ...
        0.000324939605155853 0.000300477854953972 0.000258593493113412 ...
        0.000233649540730233 0.000232216233303422 0.000176877730184517 ...
        0.000148278625320752 0.000112519911373183 8.57182185677815e-05 ...
        5.40465606799742e-05 2.7939622562925e-05 -1.61640492799973e-06 ...
        -2.763053217112e-05 -5.65916016995295e-05 -8.28866354825831e-05 ...
        -0.000111822583772735 -0.000138690796942739 -0.000167593463811829 ...
        -0.000194652787507523 -0.000223450219851792 -0.000250016429161766 ...
        -0.00027640200435686 -0.000303048223867171 -0.000333670309542592 ...
        -0.000357465943733033 -0.000385851693280819 -0.000411929674558426 ...
        -0.000439753136724634 -0.000463827812235673 -0.000491307660456939 ...
        -0.00051509367351521 -0.000542583888252419 -0.000565540249046858 ...
        -0.000593188310445929 -0.000614995287389865 -0.000642733377784157 ...
        -0.000662867085140863 -0.000691208142650742 -0.000708529341450537 ...
        -0.00073885259076411 -0.000751792948412782 -0.000787638929023749 ...
        -0.000777572224177103 -0.000848892415366296 -0.00089238776585077 ...
        -0.000856395057251055 -0.000891934986164652 -0.000895712345441377 ...
        -0.000928116843912475 -0.000938797930976771 -0.000969603134398785 ...
        -0.000982796491732208 -0.00101184574029186 -0.00102537153237724 ...
        -0.00105276146215767 -0.00106568773963859 -0.00109145221100626 ...
        -0.00110370455932659 -0.00112824157946697 -0.00113973342103857 ...
        -0.0011640581290427 -0.00117614000378047 -0.00119767223890672 ...
        -0.00120624106369117 -0.00123070491918692 -0.0012378956361245 ...
        -0.00125950223656448 -0.00126681911941538 -0.00128943043359145 ...
        -0.00129485350547383 -0.00131714723842103 -0.0013207047143262 ...
        -0.00134347792224415 -0.0013447303158601 -0.00136884260521826 ...
        -0.00136736742270527 -0.00139396189700541 -0.00138841889274025 ...
        -0.0014201029110185 -0.00140694738080927 -0.00145032017820451 ...
        -0.00142110876606466 -0.00152772790989017 -0.00125872225937314 ...
        -0.00138435773956302 -0.00151439842762726 -0.00148517248535884 ...
        -0.00152869747552567 -0.00151119595072059 -0.00153732673197761 ...
        -0.00152415606079211 -0.00154266724918884 -0.00153230855496119 ...
        -0.00154681547939978 -0.0015382738253646 -0.00155041847528859 ...
        -0.00154308808154895 -0.0015533025324066 -0.00154669728517177 ...
        -0.00155523484312255 -0.0015482064377904 -0.0015550357662916 ...
        -0.00155079624980055 -0.00155688638719175 -0.00154961471723872 ...
        -0.00155675531760943 -0.00155080780536184 -0.00155487225611565 ...
        -0.00154834156401893 -0.00155236942064232 -0.00154596076329582 ...
        -0.00154927185997067 -0.00154261765990034 -0.0015452019510307 ...
        -0.00153793071474317 -0.00153961722471204 -0.00153177517132761 ...
        -0.00153255385420045 -0.00152417432462759 -0.00152471985319976 ...
        -0.00151605573884022 -0.0015154037162755 -0.00150633217317597 ...
        -0.207160962609213]);
end

y = step(Hd,double(x));


% [EOF]
